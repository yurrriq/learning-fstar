{ stdenv, fetchFromGitHub
, fstar, ocaml, which
, findlib, fix, menhir, ocamlbuild, pprint, ppx_deriving_yojson, process, ulex
, visitors, wasm, zarith
}:

stdenv.mkDerivation rec {
  name = "kremlin-${version}";
  version = "0.9.6.0";
  src = fetchFromGitHub {
    owner = "FStarLang";
    repo = "kremlin";
    rev = "v${version}";
    sha256 = "1pn5wm8ssfvnbwhnfi7h143gi1r3yvp4303rhgdqwl532zg3minw";
  };
  buildInputs = [
    fstar
    ocaml
    which

    ocamlbuild
    findlib
    fix
    menhir
    pprint
    ppx_deriving_yojson
    process
    ulex
    visitors
    wasm
    zarith
  ];
}
